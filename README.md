---
# "Fitness tracker : Usage trends analysis using R and Tableau"
---
![](https://user-images.githubusercontent.com/85599628/163260574-cb07f9dc-c55f-47d7-8e1a-8d72af47337f.png)

## About the Company

Bellabeat is a high-tech company that manufactures health-focused smart products. The company has invested in traditional advertising media, such as radio, out-of-home billboards, print, and television, but focuses on digital marketing extensively. Bellabeat invests year-round in Google Search, maintains active Facebook and Instagram pages, and consistently engages consumers on Twitter.

## Fitbit Dataset 
[Fitbit Fitness tracker dataset](https://www.kaggle.com/datasets/arashnic/fitbit) is used to provide an analysis of how consumers are using their smart devices. The data is gained from a set of thirty eligible Fitbit users who consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. The dataset was generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-and 05.12.2016. 

## Business Task
Bellabeat is a successful small company, that has the potential to become a larger player in the global smart device market. Analyze smart device fitness data that can help unlock new growth opportunities for the company.

## Questions for the analysis 
1. What are some trends in smart device usage? 
2. How could these trends apply to Bellabeat customers? 
3. How could these trends help influence Bellabeat's marketing strategy?

## Install & Load necessary Packages

The packages that we will be using in our analysis are as follows

*dplyr
*tidyverse
*lubridate
*readr
*ggplot2
*magrittr
*janitor

```{r}
install.packages("dplyr", repos = "http://cran.us.r-project.org/ ")
install.packages("tidyverse", repos =  "http://cran.us.r-project.org/ ")
install.packages("lubridate", repos = "http://cran.us.r-project.org/ ")
install.packages("readr", repos =  "http://cran.us.r-project.org/ ")
install.packages("ggplot2", repos =  "http://cran.us.r-project.org/ ")
install.packages("magrittr", repos =  "http://cran.us.r-project.org/ ")
install.packages("janitor", repos =  "http://cran.us.r-project.org/ ")
```

```{r}
library(dplyr)
library(tidyverse)
library(lubridate)
library(readr)
library(ggplot2)
library(magrittr)
library(janitor)
library(rmarkdown)
library(gsubfn)
library(proto)
library(RSQLite)
library(sqldf)
```


## Data Preparation 

### Importing Datasets

The [Fitbit Fitness tracker dataset](https://www.kaggle.com/datasets/arashnic/fitbit) after download is avilable as a zip file. All the datasets provided are in .csv format. After unzipping the files they were imported to RStudio using read_csv() function. In the analysis we will focus on only 10 Datasets.

1.  daily_activity
2.  daily_calories
3.  daily_intensities
4.  daily_sleep
5.  daily_steps
6.  heartrate_sec
7.  hourly_calories
8.  hourly_intensities
9.  hourly_steps
10. weight_log_info

```{r}
daily_activity <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv')
daily_calories <- read.csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv')
daily_intensities <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv')
daily_sleep <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv')
daily_steps <- read.csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/dailySteps_merged.csv')
heartrate_sec <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/heartrate_seconds_merged.csv')
hourly_calories <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/hourlyCalories_merged.csv')
hourly_intensities <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/hourlyIntensities_merged.csv')
hourly_steps <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/hourlySteps_merged.csv')
weight_log_info <- read_csv('C:/Users/R Lipika Sonwal/Desktop/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv')
```

### Preview Datasets

To preview the datasets we will use the head() function which shall display the first 'n' rows present in the input data frame and the str() function to understand the structure of the dataframe. 

```{r}
head(daily_activity)
str(daily_activity)
head(daily_calories)
str(daily_calories)
head(daily_intensities)
str(daily_intensities)
head(daily_steps)
str(daily_steps)
head(daily_sleep)
str(daily_sleep)
head(heartrate_sec)
str(heartrate_sec)
head(hourly_calories)
str(hourly_calories)
head(hourly_intensities)
str(hourly_intensities)
head(hourly_steps)
str(hourly_steps)
head(weight_log_info)
str(weight_log_info)
```

### Count unique variables

To better understand the dataset I've used the length() and unique function to count the unique user IDs in the dataset.

```{r}
length(unique(daily_activity$Id))
length(unique(daily_calories$Id))
length(unique(daily_intensities$Id))
length(unique(daily_steps$Id))
length(unique(daily_sleep$Id))
length(unique(heartrate_sec$Id))
length(unique(hourly_calories$Id))
length(unique(hourly_intensities$Id))
length(unique(hourly_steps$Id))
length(unique(weight_log_info$Id))
```
Observation: The dataframes daily_activity, daily_calories, daily_intensities, daily_steps,hourly_calories, hourly_intensities, hourly_steps consists of 33 unique IDs(i.e., data of 33 users) whereas daily_Sleep consists of 24 unique IDs, heartrate_sec consits of 14 unique IDs and weight_log_info
consists of 8 unique IDs.




## Data Cleaning

### Detect duplicate values in dataframes
To detect the duplicate rows, duplicate() and sum() function are combined to get the total number of duplicate rows 
```{r}
sum(duplicated(daily_activity))
sum(duplicated(daily_calories))
sum(duplicated(daily_intensities))
sum(duplicated(daily_steps))
sum(duplicated(daily_sleep))
sum(duplicated(heartrate_sec))
sum(duplicated(hourly_calories))
sum(duplicated(hourly_intensities))
sum(duplicated(hourly_steps))
sum(duplicated(weight_log_info))
```
Observation: Dataframe daily_sleep has 3 duplicate rows

### Drop rows with duplicate values

```{r}
daily_sleep <- daily_sleep %>%
  distinct() %>%
  drop_na()
```
 
### Clean column names

The clean_names() function from janitor package results in objects names with only lowercase letters, with _ as a separator and makes easier to work with the %>% pipeline

```{r}

daily_activity <- clean_names(daily_activity)
daily_calories <- clean_names(daily_calories)
daily_intensities <- clean_names(daily_intensities)
daily_steps <- clean_names(daily_steps)
daily_sleep <- clean_names(daily_sleep)
heartrate_sec <- clean_names(heartrate_sec)
hourly_calories <- clean_names(hourly_calories)
hourly_intensities <- clean_names(hourly_intensities)
hourly_steps <- clean_names(hourly_steps)
weight_log_info <- clean_names(weight_log_info)
```





### Remove unrequired columns

```{r}
daily_activity <- daily_activity[-c(5,6)] 
daily_sleep <- daily_sleep[-c(3)]
weight_log_info <- weight_log_info[-c(5,7,8)]
```



## Data Transforming

### Change Column names of date and time column in all dataframes 

In data frames, the date and time columns have different names. In all datasets, the column with date values is renamed to "date." The date and time values column has been renamed to "date time." This makes it easy for us to continue analyzing data, particularly when merging the dataframes.
```{r}
colnames(daily_activity)[2] <- "date" #change column name to Date
colnames(daily_calories)[2] <- "date"
colnames(daily_intensities)[2] <- "date"
colnames(daily_sleep)[2]<-"date"
colnames(daily_steps)[2] <- "date"
colnames(weight_log_info)[2] <- "date"
colnames(heartrate_sec)[2] <- "date_time"
colnames(hourly_calories)[2] <-"date_time"
colnames(hourly_intensities)[2] <- "date_time"
colnames(hourly_steps)[2] <- "date_time"
colnames(weight_log_info)[2] <- "date_time"
```



### Fixing Formating 

Changing the date format to ymd and hms in all dataframes.
```{r}
daily_activity$date <- parse_date_time(daily_activity$date, '%m%d%y')
daily_calories$date <- parse_date_time(daily_calories$date, '%m%d%y')
daily_intensities$date <- parse_date_time(daily_intensities$date,  '%m%d%y')
daily_sleep$date <- parse_date_time(daily_sleep$date,'%m%d%y %H:%M:%S %p')
heartrate_sec$date_time <- parse_date_time(heartrate_sec$date_time,'%m%d%y %H:%M:%S %p')
daily_steps$date <- parse_date_time(daily_steps$date, '%m%d%y')
hourly_calories$date_time <- parse_date_time(hourly_calories$date_time,'%m%d%y %H:%M:%S %p')
hourly_intensities$date_time <-  parse_date_time(hourly_intensities$date_time, '%m%d%y %H:%M:%S %p')
hourly_steps$date_time <- parse_date_time(hourly_steps$date_time, '%m%d%y %H:%M:%S %p')
weight_log_info$date_time <-parse_date_time(weight_log_info$date_time, '%m%d%y %H:%M:%S %p')
```



### Join Hourly Data frames

Merge all hourly dataframes using "id" and "date_time" columns of all the dataframes(hourly_calories, hourly_intensities, hourly_steps)
```{r}
hourly_df <- hourly_steps %>%
  left_join(hourly_calories, by = c("id", "date_time")) %>%
  left_join(hourly_intensities, by = c("id", "date_time")) %>%
  separate(date_time, sep = " ", into = c("date","time")) %>%
  mutate(time = format(parse_date_time(as.character(time), "HMS"), format = "%H:%M %p")) %>%
  mutate(date = as.POSIXct(date)) %>%
  mutate(week_day= weekdays(date)) #weekday column created
```



### Create Columns

Created column total_activie_minutes which is sum of very_active_minutes, fairly_active_minutes and lightly_active_minutes in daily_activity dataframe. 
```{r}
daily_activity$total_active_minutes <- rowSums(daily_activity [,9:11]) #sum of total active minutes
```


Create separate columns for date and time in dataframes with date_time column. This will help in easy analysis of day and time of the day in the analysis further.
```{r}
heartrate_sec$date <- as.Date(heartrate_sec$date_time)
heartrate_sec$time <- format(as.POSIXlt(heartrate_sec$date_time),"%H:%M %p")
hourly_calories$date <- as.Date(hourly_calories$date_time)
hourly_calories$time <- format(as.POSIXct(hourly_calories$date_time), "%H:%M %p")
hourly_intensities$date<- as.Date(hourly_intensities$date_time)
hourly_intensities$time <- format(as.POSIXct(hourly_calories$date_time), "%H:%M %p")
hourly_steps$date <- as.Date(hourly_steps$date_time)
hourly_steps$time <- format(as.POSIXct(hourly_steps$date_time), "%H:%M %p")
weight_log_info$date <- as.Date(weight_log_info$date_time)
weight_log_info$time <- format(as.POSIXct(weight_log_info$date_time),  "%H:%M %p")
```


Now that I've created a separate date column I created a weekday column using weekdays() function.
```{r}
daily_activity$week_day <- weekdays(daily_activity$date)
daily_calories$week_day <- weekdays(daily_calories$date)
daily_intensities$week_day <- weekdays(daily_intensities$date)
daily_sleep$week_day <- weekdays(daily_sleep$date)
daily_steps$week_day <- weekdays(daily_steps$date)
heartrate_sec$week_day <- weekdays(heartrate_sec$date)
hourly_calories$week_day <- weekdays(hourly_calories$date)
hourly_intensities$week_day <- weekdays(hourly_intensities$date)
hourly_steps$week_day <- weekdays(hourly_steps$date)
```


Create a height column in weight log info with the weight_kg and bmi columns, using the height formula (height=(weight/bmi)*100).
```{r}
weight_log_info$height_cms <- as.integer(sqrt(weight_log_info$weight_kg/weight_log_info$bmi)*100)
```


For all data frames with time value, create a column called time_of_day. The day is broken into five segments throughout the course of 24 hours.
* Small hours 00:00 - 04:59
* Morning     05:00 - 11:59
* Afternoon   12:00 - 16:59
* Evening     17:00 - 19:59
* Night       20:00 - 23:59
```{r}
breaks <- hour(hm("00:00", "04:59", "11:59", "16:59", "19:59","23:59"))
labels <- c("Small Hours", "Morning", "Afternoon", "Evening", "Night")# labels for the breaks
heartrate_sec$time_of_day <- cut(x=hour(heartrate_sec$date_time), breaks = breaks, labels = labels, include.lowest=TRUE)
hourly_calories$time_of_day <- cut(x=hour(hourly_calories$date_time), breaks = breaks, labels = labels, include.lowest=TRUE)
hourly_intensities$time_of_day <- cut(x=hour(hourly_intensities$date_time), breaks = breaks, labels = labels, include.lowest=TRUE)
hourly_steps$time_of_day <- cut(x=hour(hourly_steps$date_time), breaks = breaks, labels = labels, include.lowest=TRUE)
```


Rename column names "value" to "heart_rate", "total_minutes_asleep" to "mins_asleep_inbed", "total_time_in_bed" to "total_time_inbed". 
```{r}
colnames(heartrate_sec)[3]<-"heart_rate"
colnames(daily_sleep)[3] <- "mins_asleep_inbed"
colnames(daily_sleep)[4] <- "total_time_inbed"
```

Create a column in the daily sleep dataframe called mins_nosleep_inbed, which is the difference between total_time_inbed and mins_assleep_inbed. The time spent in bed but not asleep is represented by the mins_nosleep_inbed column.
```{r}
daily_sleep <- daily_sleep %>% mutate(mins_nosleep_inbed = total_time_inbed - mins_asleep_inbed)
```



### Join dataframe daily_activity and daily_sleep

daily_calories, daily_activity, and daily_intensities are already included in the daily activity. I've merged it with daily sleep by columns "id" and "date" present in both dataframes, 
```{r}
daily_df <- merge(daily_activity, daily_sleep, by=c ("id", "date","week_day")) %>%
  mutate(week_day=weekdays(date))
```



### Creating new dataframes 

Create a new dataframe daily average using the daily activity dataframe, which will present an average summary of daily activities (steps taken, active minutes, calories burned) over user id. The daily_average dataframe's data visualisation will assist us comprehend individual users' average activity.
```{r}
daily_average <- daily_activity %>%
  group_by(id) %>%
  summarise(mean_daily_steps=mean(total_steps),mean_active_mins=mean(total_active_minutes), mean_daily_calories=mean(calories))
```

I made another dataframe with the daily activity dataframe, this time focusing on different active minutes on weekdays.
```{r}
activity_day <- aggregate(cbind(sedentary_minutes,lightly_active_minutes,fairly_active_minutes,very_active_minutes,total_active_minutes) ~ week_day, data=daily_activity,na.rm=TRUE, FUN = mean)
```


The dataframe steps_per_hour is created to focus on the change in the average number of steps of all users at different times of the day.
```{r}
steps_per_hour <- aggregate(step_total~time,data=hourly_steps,mean)
```


The calories per hour dataframe is created to look at how average calories burned changed over time of the day. 
```{r}
calories_per_hour <- aggregate(calories ~ time, data = hourly_calories, mean)
```


The heartrate_sec_time column was created to track heart rate over time.
```{r}
heartrate_sec_time <- aggregate(heart_rate ~ time_of_day, data= heartrate_sec, mean)
```


Created intensities_by_id data frame to understand the average intensity difference between users
```{r}
intensities_by_id <- aggregate(total_intensity ~ id, data = hourly_intensities, FUN = mean)
```

By id, the daily activity data frame is merged with weight_log_info. The association between sedentary minutes and bmi, as well as active minutes and bmi, will be visualized with this data frame.
```{r}
daily_activity_weight <- merge(x=daily_activity, y=weight_log_info, by="id", all = TRUE)
```

I created the mean bmi_sedentary_mean data frame by id to visually establish the association between sedentary_minutes and bmi.
```{r}
bmi_sedentary_mean <- aggregate(cbind(bmi_mean = bmi, sedentary_minutes_mean = sedentary_minutes) ~ id, data = daily_activity_weight, na.rm= TRUE, FUN = mean)
```

To graphically establish the relationship between active_minutes and bmi, I created the mean BMI active data frame by id.
```{r}
bmi_active_mean <- aggregate(cbind(bmi_mean = bmi,active_mins_mean = total_active_minutes) ~ id, data = daily_activity_weight, na.rm= TRUE, FUN = mean)
```

Now, to better understand the dataset let's use the summary() function that generates result summaries for multiple model fitting functions.

```{r}
summary(daily_activity)
summary(daily_calories)
summary(daily_intensities)
summary(daily_steps)
summary(heartrate_sec)
summary(hourly_calories)
summary(hourly_intensities)
summary(hourly_steps)
summary(daily_sleep)
summary(weight_log_info)
summary(steps_per_hour)
```

### Summary Observations:

* A Bellabeat user takes on average 7500+ steps over 5+ kilometers per day, which is fewer than the CDC's recommendation of 10,000 steps per day.
* On a typical day, users spend the most time (190+ minutes) in mildly active minutes and the least amount of time in fairly active minutes and very active minutes.
* On lightly active minutes, a user spends roughly 190+ minutes traveling a distance of 3+ kilometers, and 13+ minutes covering a distance of 0.5+ kilometers on moderately active minutes. 
* On really active minutes, it took only 21+ minutes to reach a distance of 1.5+ km.
* The average heartbeat per minute of a user is 77, which is within the normal range for a resting heart rate in an adult.
* On average, a Bellabeat user burns roughly 2000 calories each day.
* A user's minimum sleep time is 58 minutes, which appears to be an outlier in the daily sleep data.
* The average amount of time spent sleeping is 7 hours. The user spends an average of more than 7.5 hours in bed, suggesting that about half an hour time is spent awake.
* The average BMI is 25 or higher, suggesting overweight. The maximum BMI of 47 implies obesity.
BMI

Weight Status 

BMI            | Health Status
-------------- |---------------
Below 18.5     | Unhealthy
18.5—24.9      | Healthy
25.0—29.9      | Overweight 
30.0 and Above | Obese

Source: [CDC-Centre for Disease Control and Prevention](https://www.cdc.gov/healthyweight/index.html)

**Saved new cleaned and transformed dataframes on a local folder for Tableau Visualisations.**

```{r}
write.csv(daily_calories,"C:/Users/R Lipika Sonwal/Desktop/bellafit/daily_calories.csv")
write.csv(daily_df,'C:/Users/R Lipika Sonwal/Desktop/bellafit/daily_df.csv')
write.csv(daily_sleep,"C:/Users/R Lipika Sonwal/Desktop/bellafit/daily_sleep.csv")
write.csv(steps_per_hour,"C:/Users/R Lipika Sonwal/Desktop/bellafit/steps_per_hour.csv")
write.csv(activity_day,"C:/Users/R Lipika Sonwal/Desktop/bellafit/activity_day.csv")
write.csv(calories_per_hour,"C:/Users/R Lipika Sonwal/Desktop/bellafit/calories_per_hour.csv")
write.csv(daily_activity,"C:/Users/R Lipika Sonwal/Desktop/bellafit/daily_activity.csv")
write.csv(hourly_calories,"C:/Users/R Lipika Sonwal/Desktop/bellafit/hourly_calories.csv")
write.csv(hourly_intensities,"C:/Users/R Lipika Sonwal/Desktop/bellafit/hourly_intensities.csv")
write.csv(hourly_steps,"C:/Users/R Lipika Sonwal/Desktop/bellafit/hourly_steps.csv")
write.csv(daily_steps,"C:/Users/R Lipika Sonwal/Desktop/bellafit/daily_steps.csv")
write.csv(weight_log_info,"C:/Users/R Lipika Sonwal/Desktop/bellafit/weight_log_info.csv")
write.csv(bmi_active_mean, "C:/Users/R Lipika Sonwal/Desktop/bellafit/bmi_active_mean.csv")
write.csv(bmi_sedentary_mean, "C:/Users/R Lipika Sonwal/Desktop/bellafit/bmi_sedentary_mean.csv")
write.csv(intensities_by_id, "C:/Users/R Lipika Sonwal/Desktop/bellafit/intensities_by_id.csv")
```


## Data Analysis and Visualisation

For data visualisation, I've utilised R and Tableau. The below four graphs are constructed using the ggplot() tool to depict relationships between variables.

### Daily Active Minutes vs. Calories Burned
```{r}
ggplot(data = daily_activity,aes(x=very_active_minutes + fairly_active_minutes + lightly_active_minutes,y=calories))+geom_point(color="#FF0066") + geom_smooth(color="black")+labs(title = "Relationship Between Daily Active Minutes & Calories Burned") + xlab("Daily Active= Fairly+Lightly+Very Active") + ylab("Daily Calories Burned")
```

**Observation**

1. We can see that active minutes and calories burned have a positive correlation. More active minutes equals more calories burned
2. Users burned 1500-3500 calories in 100-400 mins


### Calories Vs. Very Active Minutes
```{r}
ggplot(data = daily_activity, aes(x=very_active_minutes, y=calories))+geom_point(color="#33CC00") + geom_smooth(color="black") + labs(title = "Calories vs Very Active Minutes") + xlab("Very Active Minutes")+ ylab("Calories Burned")
```

**Observation**

1. Calories burned and very active minutes show a strong positive relationship. The more the active minutes the greater the calories burned
2. Majority of our users have spent less than 75mins on very active minutes
3. An interesting observation is that fair number of our users have 0 very active minutes 
```{r}
vam1 <- sqldf("select count(very_active_minutes) from daily_activity where very_active_minutes==0")
vam2 <- sqldf("select count(very_active_minutes) from daily_activity")
(vam1/vam2)*100
```
### Calories vs. Fairly Active Minutes
```{r}
ggplot(data = daily_activity, aes(x=fairly_active_minutes, y=calories))+geom_point(color="#0000CC") + geom_smooth(color="black") + labs(title = "Calories vs Fairly Active Minutes") + xlab("Fairly Active Minutes")+ ylab("Calories Burned")
```

**Observation**

1. What you can see is there is a moderate positive relationship between calories burned and fairly active minutes
2. First look at the graph gives us a clear idea that users have spent less to no time on fairly active minutes
3. Less than 25mins was spent on fairly active minutes by majority of the users.The clouded points at 0 on the X- axis indicates users who choose to not spend time on fairly active minutes



### Calories vs. Lightly Active Minutes
```{r}
ggplot(data = daily_activity, aes(x=lightly_active_minutes, y=calories))+geom_point(color="#FF33CC") + geom_smooth(color="black") + labs(title = "Calories vs Lightly Active Minutes") + xlab("Lightly Active Minutes")+ ylab("Calories Burned")
```

**Observation** 

1. Calories burned and lightly active minutes show a moderate positive correlation
2. Also, it can be observed that few users have not spent any time on lightly active minutes

### [Weekday wise Daily Activity](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Weekday-WiseDailyActivity/Sheet1)

![](https://user-images.githubusercontent.com/85599628/163023093-2b718e41-cd77-464c-875e-8e6c8536b0ca.png)


**Observation**

1. The highest fairly active minutes of 15 minutes was spent on Saturday. 
Fairly active minutes fluctuates between 12-15 minutes throughout the week
2. The highest very active minutes of 23 minutes was spent on Monday and Tuesday. The time spent on very active minutes fluctuates between 19-23 minutes
3. The highest lightly active minutes of 207 minutes was spent on Saturday followed by Sunday with the least lightly active minutes of 174 minutes. This suggests that users spent 30mins less time on Sunday compared to Saturday.
4. The first thing that can be noticed is the time spent on lightly active minutes which remains the highest on all days.

### [Average Activity Per User ID](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/AverageActivityDailyPerUserID/Sheet1)
![](https://user-images.githubusercontent.com/85599628/163031730-f11f926c-b031-45a5-a2e7-d4c542d9c95c.png)



**Observation**

1. The daily_df consists  24-hour data distribution in fairly_active_minutes, lightly_active_minutes,very_active minutes, minutes asleep in bed, and minutes awake in bed.
2. The bars represent the 24 hour data of individual users. All the bars should not exceed 1400(24hrs) since we only have 24 hours in the day. However a glimpse at the dashboard gives a clear understanding of the discrepancy in the datasets. Out of 24 users, 8 consist of data of less than 24 hours, and the rest data exceeds the 24 hour time limit. This could be due to various reasons. I'm assuming that minutes no sleep in bed is a part of the sedentary data. Or the users are not wearing the device throughout the day leading to inconsistent data.


### [Activity Per User ID](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/ActivityPerUserID/Sheet4)
![](https://user-images.githubusercontent.com/85599628/163031615-7a10f6b2-6b0e-4bad-a5e8-5ae1710d3160.png)


**Observation**

1. The image represents 3 sets of active minutes fairly active minutes, lightly active minutes and very active minutes by user ID. 
2. Majority of the users have not spent time on fairly active minutes and very active minutes during the course of the 30 day period.
3. The highest time was spent on lightly active minutes 
4. Fluctuation in the time spent on lightly active minutes among all the users is clearly visible.
5. The distinction between fairly active minutes and very active minutes from lightly active minutes indicates that users were most involved in lightly active minutes.
6.Majority of the users spent more than 200minutes on lightly active minutes.


### [Average Calories Burned Per User](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/calories_per_user/Sheet4?publish=yes)
![](https://user-images.githubusercontent.com/85599628/164326330-5eadb679-0388-46a5-905f-e06994c94579.png)



**Observation**

1. The highest average calories burned by a user is 3,437
2. The lowest average number of calories burned by a user is 1,485
3. Majority of the users have burned less than 3,000 calories on an average

### [Calories Burned vs  Total Active Minutes Per User ID](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/CaloriesBurnedvs_TotalActiveMinutesPerUserID/Sheet2)
![](https://user-images.githubusercontent.com/85599628/163031604-e047f48a-7001-4615-bb4d-cfd39d993343.png)

**Observation**

1. r > +0.70 for all the users. Thus indicating a very strong relationship between Calories Burned and Total Active Minutes. Greater active minutes leads to greater calories burned.


### [Activity vs  Calories Burned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Activityvs_CaloriesBurned/Sheet2)
![](https://user-images.githubusercontent.com/85599628/163031717-dfa0ac46-f134-4289-94c9-3406080f06eb.png)

**Observation**

1. In the Sedentary minutes vs. Calories Burned
r = 0
p = 0.296171
Since p value is < 0.05 the correlation coefficient is not statistically significant. r =  0 indicates that there is no relationship between Sedentary minutes and Calories burned. 
2. In the Total Active Minutes vs. Calories Burned
r = 0.44
p < 0.0001
The p value is less than 0.05 the correlation coefficient is statistically significant. A strong positive relationship can be observed between Total Active Minutes and Calories Burned

### [Calories Burned Per hour](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/CaloriesBurnedPerHour/Sheet5)
![Calories Burned Per Hour](https://user-images.githubusercontent.com/85599628/163031602-653af80a-5e7a-4030-b945-597b32c9dfb5.png)

**Observation**

1. Highest calories is burned at 18hrs
2. More than 120 calories are burned every hour between 17:00-19:00
3. Number of calories burned gradually increases from 5:00 in the morning to 12:00 noon with a decline in afternoon and a sudden rise that stays contant from 16:00-19:00 followed by a gradual decline.

### [ActiveMinutes Vs.  CaloriesBurned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/ActiveMinutesCaloriesBurned/Sheet1)
![](https://user-images.githubusercontent.com/85599628/163031719-b60e4705-9954-467f-9d6e-dbcdb3d95952.png)

**Observation**

1. In the lightly active minutes vs. calories burned 
r = 0.22
p < 0.0001
Since p - value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.22 indicates a moderate positive relationship between active minutes and calories burned

2. In the fairly active minutes vs. calories Burned 
r = 0.26
p < 0.0001
Since p - value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.26 indicates a moderate positive relationship between fairly active minutes and calories burned

3. In the very active minutes vs. calories burned
r = 0.60
p < 0.0001
Since p-value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.60 suggests a strong positive relationship between very active minutes and calories burned.

The highest number of calories can be burned in very active minutes followed by fairly active minutes and lightly active minutes



### [Calories Burned Vs.  Steps](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/CaloriesBurnedvs_Steps/Sheet10)
![](https://user-images.githubusercontent.com/85599628/163031735-3873a8cc-9170-4a44-8687-392e8c6e3533.png)
**Observation**

1. r = 0.40
p < 0.0001
 p-value of < 0.05 suggests the correlation coefficient is statisticaly significant. The  r value of +0.40 indicates a strong positive relationship between calories burned Vs.steps. The greater the number of the steps the grater the number of calories burned 



### [TotalIntensity](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/TotalIntesnsityAveragePerUser/Sheet1)
![](https://user-images.githubusercontent.com/85599628/164227528-5504b9ee-809c-474b-a012-5ddebef8f7b3.png)

**Observation**

1. For 33 users from the dataset the least average intensity of a random user is 1.86, the highest being 19.90. THe average intensity of majority of users ranges between 8-18.
2. It can be observed that a few users have an intensity of less than 5.
There is a fluctuation in the intensity of activity with users of different intensity levels. Few of our users perform activities with greater intensity.


### [Average Heart Rate   Time](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/AverageHeart-rateTimeofDay/Sheet1)
![](https://user-images.githubusercontent.com/85599628/164337021-90e37f6f-f52b-4b6b-9b96-45c57705f24f.png)

**Observation**

The heart rate of users on average is 76.68BPM in the morning which rises to 82.3BMP at noon, this slightly rises to 84.62 in the evening and then gradually declines to 74.46 by night and then stays at 63.54 while asleep. This data is based on 14  users.


### [Steps Per Hour](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Steps_per_hour/Sheet1)
![](https://user-images.githubusercontent.com/85599628/163031587-564da3e1-1f25-4197-b63b-60bf3cb049d2.png)

*Observation*

1. The highest number of steps was taken at 18:00
2. Throughout the day, the highest number of steps was taken between 12:00-14:00 and 17:00-19:00


### [Steps Per Day](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/TotalStepsPerDay/Sheet1?publish=yes)
![](https://user-images.githubusercontent.com/85599628/164623167-0725e1cf-a1c2-4545-bb19-6051b2e0603d.png))


**Observation**

1. The dashboard is a visualization of the steps 33 users have made over the period of 30 days.
2. The analysis of the graph illustrates inconsistent walking pattern among the users
3. The 0's on the dashboard indicate that the user hasn't taken any steps on that particular date. Incorrect record tracking or user not using the device are few of my assumptions.
4. It can also be observed that a very high number of users have less than 10,000 steps per day which is recommended by the CDC.


### [Average Minutes In Bed](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/MinutesinBedAverage/Sheet1)
![](https://user-images.githubusercontent.com/85599628/163031597-de201df1-da5f-4f55-9b92-f7a0f68ab85f.png)

**Observation**

1. A user spends around 50 minutes (almost an hour) awake in bed on Sunday,which is highest during the week. Saturday comes in second, with a user staying awake for 40 minutes in bed.
2. The least amount of time spent awake on bed is midweek(Wednesday and Thursday). Wednesday indicating the second highest number of minutes asleep in bed

### [Sleep Type Percentage](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/SleeptypePercentage/Sheet2?publish=yes)
![](https://user-images.githubusercontent.com/85599628/164889009-d8ff2023-3197-4df2-9800-fa573f3b79f5.png)


**Observation**
1. 46% of the the sleep data is as per the sleep recommendation of 7-8 hours by CDC.
2. 10% of the sleep data suggests oversleeping among users 
3. Almost half of the users sleep data of 44% suggests sleep deprivation among users.

### [Sleep Type](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Sleeptype/Sheet1)
![](https://user-images.githubusercontent.com/85599628/164889066-1a0ab6e2-5e8f-4bc2-a09e-c0bfbf378cd1.png)


**Observation**

1. We have an inconsistent sleep record track with majority of the users sleep deprived. A few users' sleep data suggests that they oversleep

### [Minutes Asleep in Bed vs Sedentary Minutes](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/MinutesAsleepinbedvsSedentaryMinutes/Sheet3) 
![](https://user-images.githubusercontent.com/85599628/163031611-03adf8e6-5f2c-4e3a-9a88-854b7e20b728.png)

**Observation**

1. r = - 0.60, p < 0.0001.
Since p < 0.05 this suggests the correlation coefficient is statistically significant. r value of 0.60 suggests that their is a strong negative relationship between minutes asleep in bed and sedentary minutes. The more number of hours you spend on bed the lesser the time you spend on sedentary activities.


### [BMI vs  Active Minutes (Mean)](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/BMIvs_ActiveMinutesMean_16497875471020/Sheet1)
![](https://user-images.githubusercontent.com/85599628/163031708-5637b86e-8566-418f-931e-e9fa63471a24.png)


**Observation**

1. This is a very small sample of only 8 users out of the 33 users in the other datasets.
The value r = -0.95 indicates BMI and active minutes have a very strong negative relationship in this data set. The lower a person's BMI, the higher their active minutes.

## Summary of the analysis

* A bellabeat user  on an average takes 7500+ steps covering 5+ kms in a day. Whereas, CDC recommends 10,000 steps per day. According to a new study as mentioned by the CDC higher daily step counts were associated with lower mortality risk from all causes. They also found that the number of steps a person takes each day, but not the intensity of stepping, had a strong association with mortality. Previous studies found that compared with taking 4,000 steps per day, a number considered to be low for adults, taking 8,000 steps per day was associated with a 51% lower risk for all-cause mortality (or death from all causes). Taking 12,000 steps per day was associated with a 65% lower risk compared with taking 4,000 steps. In the dashboard [Calories Burned Vs. Steps](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/CaloriesBurnedvs_Steps/Sheet10) r = 0.40, p < 0.0001. The p-value of < 0.05 suggests the correlation coefficient is statistically significant. The  r value of +0.40 indicates a strong positive relationship between calories burned Vs.steps. The greater the number of the steps the greater the number of calories burned. The highest number of steps was taken at 18:00. Throughout the day, the highest number of steps was taken between 12:00-14:00 and 17:00-19:00 

* On average, the users have spent the highest amount of time of 190+ minutes in lightly active minutes and very less time on fairly active minutes & very active minutes. A user spends about 190+ minutes covering a distance of 3+ kms on lightly active minutes, 13+mins  covering a distance of 0.5+  kms on moderately active minutes. And 20+ minutes are spent covering a distance of 1.5+ kms on very active minutes.

* Users' average heartbeat per minute is 77 which is within the range of normal resting heart rate for an adult. The heartrate  is higher during times of intense activity which explains the increase in the heartrate in noon and evening as the highest activity takes place at these times of the day. The heartrate is lowest when a person relaxes or sleeps as seen in the [heartrate graph](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/AverageHeart-rateTimeofDay/Sheet1).

*  A Bellabeat user on average burns around 2000+ calories a day. The highest [Calories Burned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/calories_per_user/Sheet4) by a user is 3,437 in a day. The lowest average number of calories burned by a user is 1,485. Majority of the users burn less than 3,000 calories on an average.  Highest calories is burned at 18:00. More than 120 calories are burned every hour between 17:00-19:00. Number of calories burned gradually increases from 5:00 in the morning to 12:00 noon with a decline in afternoon and a sudden rise that stays constant from 16:00-19:00 followed by a gradual decline.

* The average user's BMI is 25+ indicating overweight and the max BMI of a user is  47 which indicates obesity in adults

     BMI           |   Weight Status
-------------------|-------------------
Below Underweight  |  18.5
Healthy            |  18.5—24.9
Overweight         |  25.0—29.9
Obese              |  30.0 and Above

Source: [CDC-Centre for Disease Control and Prevention](https://www.cdc.gov/healthyweight/index.html)

*  We can see that [active minutes and calories burned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Activityvs_CaloriesBurned/Sheet2) have a positive relationship. Users burned 1500-3500 calories in 100-400 minutes. r = +0.70  Thus indicating a very strong relationship between Calories Burned and Total Active Minutes. Greater active minutes leads to greater calories burned

* [Calories burned and very active minutes](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/ActiveMinutesCaloriesBurned/Sheet1) show a strong positive relationship.  In the very active minutes vs. calories burned r = 0.60 p < 0.0001. Since p-value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.60 suggests a strong positive relationship between very active minutes and calories burned. The more the active minutes the greater the calories burned.The highest very active minutes of 23 minutes were spent on Monday and Tuesday. The time spent on very active minutes fluctuates between 19-23 minutes. Majority of the users have not spent time on fairly active minutes and very active minutes during the course of the 30 day period.
An interesting observation is that 43% of very active minutes is 0.
```{r}
vam1 <- sqldf("select count(very_active_minutes) from daily_activity where very_active_minutes==0")
vam2 <- sqldf("select count(very_active_minutes) from daily_activity")
(vam1/vam2)*100
```

* In the fairly active minutes vs. calories Burned r = 0.26, p < 0.0001. Since p - value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.26 indicates a moderate positive relationship between fairly active minutes and calories burned. A glimpse at the calories vs. fairly active minutes graph gives us a clear idea that users have spent less to no time on fairly active minutes. Less than 25 minutes was spent on fairly active minutes by the majority of the users. The clouded points at 0 on the X- axis indicate users who choose to not spend time on fairly active minutes. The highest fairly active minutes of 15 minutes were spent on Saturday.  Fairly active minutes fluctuate between 12-15 minutes throughout the week. Since the number of points at 0 crowded we look into it further to conclude that 40% of fairly active minutes is 0.
```{r}
fam1 <- sqldf("select count(fairly_active_minutes) from daily_activity where fairly_active_minutes==0")
fam2 <- sqldf("select count(fairly_active_minutes) from daily_activity")
(fam1/fam2)*100
```


* In the lightly active minutes vs. calories burned r = 0.22, p < 0.0001. Since p - value is < 0.05 the correlation coefficient is statistically significant. The r value of 0.22 indicates a moderate positive relationship between active minutes and calories burned. The highest lightly active minutes of 207 minutes were spent on Saturday followed by Sunday with the least lightly active minutes of 174 minutes. This suggests that users spent 30mins less time on Sunday compared to Saturday. The first thing that can be noticed is the time spent on lightly active minutes which remains the highest on all days.Fluctuation in the time spent on lightly active minutes among all the users is clearly visible. The distinction between fairly active minutes and very active minutes from lightly active minutes indicates that users were most involved in lightly active minutes..Majority of the users spent more than 200minutes on lightly active minutes on daily basis. Calories burned and lightly active minutes show a moderate positive correlation. Also, it can be observed that few users have not spent any time on lightly active minutes. 8% of the data represents 0 lightly active minutes over the period of 30 days.
```{r}
lam1 <- sqldf("select count(lightly_active_minutes) from daily_activity where lightly_active_minutes==0")
lam2 <- sqldf("select count(lightly_active_minutes) from daily_activity")
(lam1/lam2)*100
```

*Hence, the highest number of calories is burned in very active minutes followed by fairly active minutes and lightly active minutes*

*  The daily_df consists of 24-hour data distribution in fairly_active_minutes, lightly_active_minutes,very_active minutes, minutes asleep in bed, and minutes awake in bed. In the graph [Average Activity](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/AverageActivityDailyPerUserID/Sheet1) the bars represent the 24 hour data of individual users. All the bars should not exceed 1400(24hrs), since we only have 24 hours in the day. However, a glimpse at the dashboard gives a clear understanding of the discrepancy in the datasets. Out of 24 users, 8 users data consist of data of less than 24 hours, and the remaining users data exceeds the 24 hour time limit. This could be due to various reasons. I'm assuming that minutes no sleep in bed is a part of the sedentary data. Or the users are not wearing the device throughout the day leading to inconsistent data.

* In the [Sedentary minutes vs. Calories Burned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Activityvs_CaloriesBurned/Sheet2) r = 0, p = 0.296171 . Since p value is < 0.05 the correlation coefficient is not statistically significant and r =  0 indicates that there is no relationship between Sedentary minutes and Calories burned. 

* In the [Total Active Minutes vs. Calories Burned](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/Activityvs_CaloriesBurned/Sheet2) r = 0.44, p < 0.0001. The p-value is less than 0.05 so the correlation coefficient is statistically significant. A strong positive relationship can be observed between Total Active Minutes and Calories Burned with r value of 0.44.

* For 33 users from the dataset [Total Intensity Average of users](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/TotalIntesnsityAveragePerUser/Sheet1) the least average intensity of a random user is 1.86, the highest being 19.90. The average intensity of the majority of users ranges from 8-18. It can be observed that a few users have an intensity of less than 5. There is a fluctuation in the intensity of activity with users of different intensity levels. Few of our users perform activities with greater intensity.

* The [heart rate](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/AverageHeart-rateTimeofDay/Sheet1) of users on average is 76.68 BPM in the morning which rises to 82.3 BMP at noon, this slightly rises to 84.62 BPM in the evening and then gradually declines to 74.46 BPM by night and then stays at 63.54 BPM while asleep. This data is based on 14  users.

*  A user spends around 50 minutes (almost an hour) awake in bed on Sunday,which is highest during the week. Saturday comes in second, with a user staying awake for 40 minutes in bed.  The least amount of time spent awake on bed is midweek(Wednesday and Thursday). Wednesday indicating the second highest number of minutes asleep in bed. The minimum amount  a user spent sleeping is 58 mins which seems to be an outlier in the daily_sleep data. A user spends an average  of more than 7.5 hrs on the bed out of which only 7 hours are spent sleeping indicating that around half an hour is spent not asleep on the bed.  r = 0.60, p < 0.0001. Since p < 0.05 this suggests the correlation coefficient is statistically significant.In [Minutes asleep in bed and Sedentary minutes](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/MinutesAsleepinbedvsSedentaryMinutes/Sheet3) r value of 0.60 suggests that there is a strong negative relationship. The more number of Sedentary hours, the less time you spend on sedentary activities. [Sleep type percentage](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/SleeptypePercentage/Sheet2) suggests that 46% of the the sleep data is as per the sleep recommendation of 7-8 hours by CDC. 10% of the sleep data suggests oversleeping among users. Almost half of the users sleep data of 44% suggests sleep deprivation among users.
* A very small sample of only 8 users out of the 33 users in the other datasets is  used to find the relationship between [BMI and Active minutes](https://public.tableau.com/app/profile/rajesh.lipika.sonwal/viz/BMIvs_ActiveMinutesMean_16497875471020/Sheet1). The value r = - 0.95 indicates BMI and active minutes have a very strong negative relationship in this data set. The lower a person's BMI, the higher their active minutes.

## Recommendations

* To achieve the goal of 10,000 steps per day and maintain a consistent record the users should be notified to walk after meals, when sitting sedentary state for a longer time.

* Implication of gaming feature challenging friends/users in the locality will motivate users to stay consistent and form a routine behaviour.

* Provide brief quarterly progress report encouraging users to share achievements on social media to increase user engagement and new customer leads

* Initiate screen lock at bed time as users are spending more than half hour in bed awake and to maintain 7-9 hours of sleep as recommended by CDC

* In app calorie intake calculator for people to maintain their BMI. Remind user to walk more steps and burn calories to reach target BMI. 

* Manual entry of number of litres of water intake in a day. Reminder notification to drink water.
 
* In app entry of menstruation dates for menstruators.
 
* Data Limitation* Data over a period of a year or more to understand seasonal trends. Age data of every user to recommend activities depending on the age of the user.

* A majority 44% of users are sleep deprived so to increase in min number of sleep hours option of automatic socail media app lock should be available.

* Daily workout challenges and celebrating small milestones by providing in app  
 
* Weight loss challenge with friends/users in the vicinity for overweight and obese people. Healthy food recommendation on app 
 
* Comfortable design to wear 24hours. Improve accuracy of activities.
















